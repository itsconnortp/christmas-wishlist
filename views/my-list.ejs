<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Wishlist - <%= family.name %></title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1><%= family.name %></h1>
            <nav>
                <a href="/family/<%= family.id %>">Back to Family</a>
                <a href="/dashboard">Dashboard</a>
                <a href="/logout">Logout</a>
            </nav>
        </header>

        <div class="card">
            <h2>üìù My Wishlist</h2>

            <form action="/family/<%= family.id %>/my-list/add" method="POST" style="background: #f8f9ff; padding: 25px; border-radius: 8px; margin-bottom: 30px;">
                <h3 style="color: var(--christmas-red); margin-bottom: 20px;">Add New Item</h3>

                <div class="grid grid-2">
                    <div class="form-group">
                        <label for="title">Item Name *</label>
                        <input type="text" id="title" name="title" placeholder="What do you want?" required>
                    </div>

                    <div class="form-group">
                        <label for="price">Price (optional)</label>
                        <input type="text" id="price" name="price" placeholder="$25">
                    </div>
                </div>

                <div class="form-group">
                    <label for="link">Link (optional)</label>
                    <input type="url" id="link" name="link" placeholder="https://www.amazon.com/...">
                </div>

                <div class="form-group">
                    <label for="description">Description (optional)</label>
                    <textarea id="description" name="description" placeholder="Color, size, or other details..."></textarea>
                </div>

                <button type="submit" class="btn btn-primary" style="width: 100%;">üéÅ Add to My List</button>
            </form>

            <h3 style="margin-bottom: 20px;">Your Items (<%= items.length %>)</h3>

            <% if (items.length === 0) { %>
                <p style="text-align: center; color: #666; padding: 40px;">
                    You haven't added any items yet. Add something above to get started!
                </p>
            <% } else { %>
                <div class="grid grid-2">
                    <% items.forEach(item => { %>
                        <div class="wishlist-item">
                            <h3><%= item.title %></h3>

                            <% if (item.description) { %>
                                <p><%= item.description %></p>
                            <% } %>

                            <% if (item.price) { %>
                                <p class="price"><%= item.price %></p>
                            <% } %>

                            <% if (item.link) { %>
                                <p>
                                    <a href="<%= item.link %>" target="_blank" style="color: var(--christmas-green); text-decoration: none;">
                                        üîó View Link
                                    </a>
                                </p>
                            <% } %>

                            <div class="actions">
                                <form action="/family/<%= family.id %>/my-list/delete/<%= item.id %>" method="POST" style="display: inline;">
                                    <button type="submit" class="btn btn-outline" style="padding: 8px 16px;">Delete</button>
                                </form>
                            </div>
                        </div>
                    <% }) %>
                </div>
            <% } %>
        </div>
    </div>
</body>
</html>
